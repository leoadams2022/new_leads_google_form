<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Language" content="en" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Call Center Message Form</title>
    <link href="output.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />

    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

    <!-- adding the favicon -->
    <link
      rel="icon"
      type="image/png"
      href="https://i.ibb.co/Jjy2203k/logo-option-4-final-15-48.png"
    />

    <!-- SEO: Description -->
    <meta
      name="description"
      content="Submit a message to the Arbah Call Center. Complete the form with your contact details, issue, and preferred callback time."
    />

    <!-- SEO: Keywords (optional but useful) -->
    <meta
      name="keywords"
      content="Call Center, Contact Form, Arbah, Support, Callback, Message Submission"
    />

    <!-- Author -->
    <meta name="author" content="Arbah Call Center Team" />

    <!-- Robots: Indexing Control -->
    <meta name="robots" content="index, follow" />

    <!-- Theme Color for Mobile -->
    <meta name="theme-color" content="#1D4ED8" />
    <!-- Tailwind's blue-600 -->

    <!-- Open Graph for social sharing -->
    <meta property="og:title" content="Arbah Call Center Message Form" />
    <meta
      property="og:description"
      content="Submit your inquiry or message to the Arbah Call Center."
    />
    <meta
      property="og:image"
      content="https://i.ibb.co/Jjy2203k/logo-option-4-final-15-48.png"
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://arbah-me.github.io/arbah-4tel-contact-form/"
    />
    <!-- Replace with actual URL -->

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Arbah Call Center Message Form" />
    <meta
      name="twitter:description"
      content="Submit your inquiry or message to the Arbah Call Center."
    />
    <meta
      name="twitter:image"
      content="https://i.ibb.co/Jjy2203k/logo-option-4-final-15-48.png"
    />
  </head>
  <body
    class="bg-gray-100 dark:bg-gray-900 text-black dark:text-white min-h-screen flex items-center justify-center p-8"
  >
    <!-- from container  -->
    <div
      class="bg-white dark:bg-gray-800 rounded-lg shadow-md px-6 py-8 w-full max-w-2xl relative"
    >
      <!-- dark/light mode toggle button  -->
      <button
        id="theme-toggle"
        type="button"
        class="dark:text-gray-300 text-gray-700 dark:text-gray-100 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg p-2.5 absolute top-1 right-1 z-50"
      >
        <svg
          id="theme-toggle-dark-icon"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="hidden w-5 h-5"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"
          />
        </svg>
        <svg
          id="theme-toggle-light-icon"
          xmlns="http://www.w3.org/2000/svg"
          fill="currentColor"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke="currentColor"
          class="hidden w-5 h-5"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"
          />
        </svg>
      </button>
      <!-- form image  -->
      <img
        src="https://i.ibb.co/whtLmJSB/logo-option-4-final-15.png"
        alt="Arbah Call Center Logo"
        class="w-auto h-24 mx-auto mb-6"
      />
      <!-- from title  -->
      <h1
        class="text-4xl text-center font-bold text-gray-800 dark:text-gray-100 mb-6"
      >
        Arbah Call Center Message Form
      </h1>
      <!-- form description  -->
      <p class="text-gray-600 dark:text-gray-300 mb-6">
        Please fill out the form below to submit your message to the Arbah.
      </p>
      <form
        class="space-y-6"
        action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSfRVy42Aaf1asFoRrTEI96RD1oaJwprvKo4W_m3V9os4_vzYg/formResponse"
        aria-label="Arbah Call Center Message Form"
      >
        <!-- Agent Name -->
        <div class="relative">
          <input
            type="text"
            id="agentName"
            name="entry.1129205682"
            placeholder=" "
            class="block py-2.5 px-0 w-full bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            required
          />
          <label
            for="agentName"
            class="absolute dark:text-gray-300 text-gray-700 duration-300 transform -translate-y-6 scale-75 top-3 origin-[0] peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 redstar"
          >
            Agent Name (your name)
          </label>
        </div>

        <!-- Full Name -->
        <div class="relative">
          <input
            type="text"
            id="fullName"
            name="entry.1861396034"
            placeholder=" "
            class="block py-2.5 px-0 w-full bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            required
          />
          <label
            for="fullName"
            class="absolute dark:text-gray-300 text-gray-700 duration-300 transform -translate-y-6 scale-75 top-3 origin-[0] peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 redstar"
          >
            Full Name of Caller
          </label>
        </div>

        <!-- Company Name -->
        <div class="relative">
          <input
            type="text"
            id="companyName"
            name="entry.1305866280"
            placeholder=" "
            class="block py-2.5 px-0 w-full bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          />
          <label
            for="companyName"
            class="absolute dark:text-gray-300 text-gray-700 duration-300 transform -translate-y-6 scale-75 top-3 origin-[0] peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600"
          >
            Company Name (if applicable)
          </label>
        </div>

        <!-- Phone Number -->
        <div class="relative">
          <input
            type="tel"
            id="phoneNumber"
            name="entry.1502658279"
            placeholder=" "
            class="block py-2.5 px-0 w-full bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            oninput="this.value = this.value.replace(/[^\d\s]/g, '')"
            required
          />
          <label
            for="phoneNumber"
            class="absolute dark:text-gray-300 text-gray-700 duration-300 transform -translate-y-6 scale-75 top-3 origin-[0] peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 redstar"
          >
            Phone Number (callback number)
          </label>
        </div>

        <!-- Email Address -->
        <div class="relative">
          <input
            type="email"
            id="emailAddress"
            name="entry.178293398"
            placeholder=" "
            class="block py-2.5 px-0 w-full bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
          />
          <label
            for="emailAddress"
            class="absolute dark:text-gray-300 text-gray-700 duration-300 transform -translate-y-6 scale-75 top-3 origin-[0] peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600"
          >
            Email Address (if available)
          </label>
        </div>

        <!-- Preferred Contact Method -->
        <div>
          <p class="dark:text-gray-300 text-gray-700 mb-1">
            Preferred Contact Method
          </p>
          <div class="flex space-x-4">
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.858801491"
                value="Phone"
                class="mr-2"
                checked
              />
              Phone
            </label>
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.858801491"
                value="Email"
                class="mr-2"
              />
              Email
            </label>
          </div>
        </div>

        <!-- Division Concerned -->
        <div>
          <p class="dark:text-gray-300 text-gray-700 mb-1">
            Division Concerned
          </p>
          <div class="grid grid-cols-2 gap-4">
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.1202504675"
                value="Sales"
                class="mr-2"
              />
              Sales
            </label>
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.1202504675"
                value="Technical"
                class="mr-2"
              />
              Technical
            </label>
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.1202504675"
                value="General Inquiry"
                class="mr-2"
                checked
              />
              General Inquiry
            </label>
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.1202504675"
                value="Billing"
                class="mr-2"
              />
              Billing
            </label>
          </div>
        </div>

        <!-- Summary of the Issue -->
        <div class="relative">
          <textarea
            id="summary"
            name="entry.550678685"
            rows="4"
            placeholder=" "
            class="block py-2.5 px-0 w-full bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer"
            required
          ></textarea>
          <label
            for="summary"
            class="absolute dark:text-gray-300 text-gray-700 top-3 duration-300 transform -translate-y-6 scale-75 origin-[0] peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:-translate-y-6 peer-focus:scale-75 peer-focus:text-blue-600 redstar"
          >
            Summary of the Issue or Request
          </label>
        </div>

        <!-- Urgency Level -->
        <div>
          <p class="dark:text-gray-300 text-gray-700 mb-1">Urgency Level</p>
          <div class="grid grid-cols-2 gap-4">
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.16203430"
                value="Low"
                class="mr-2"
              />
              Low
            </label>
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.16203430"
                value="Medium"
                class="mr-2"
                checked
              />
              Medium
            </label>
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.16203430"
                value="High"
                class="mr-2"
              />
              High
            </label>
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.16203430"
                value="Critical"
                class="mr-2"
              />
              Critical
            </label>
          </div>
        </div>

        <!-- Callback Required -->
        <div>
          <p class="dark:text-gray-300 text-gray-700 mb-1">
            Is a Callback Required?
          </p>
          <div class="flex space-x-4">
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.1641284055"
                value="Yes"
                class="mr-2"
              />
              Yes
            </label>
            <label class="flex items-center dark:text-gray-300 text-gray-700">
              <input
                type="radio"
                name="entry.1641284055"
                value="No"
                class="mr-2"
              />
              No
            </label>
          </div>
        </div>

        <!-- Preferred Time for Callback -->
        <div class="relative flex items-center space-x-2">
          <label
            for="callbackTime"
            class="shrink-0 dark:text-gray-300 text-gray-700 peer-focus:text-blue-600"
          >
            Preferred Time for Callback (if applicable)
          </label>
          <input
            type="datetime-local"
            id="callbackTime"
            name="entry.1162510592"
            placeholder="YYYY-MM-DD HH:MM"
            class="inline py-2.5 px-0 bg-transparent border-0 border-b-2 border-gray-300 appearance-none focus:outline-none focus:ring-0 focus:border-blue-600 peer text-center"
          />
        </div>

        <!-- Submit -->
        <div>
          <button
            type="submit"
            class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-200"
          >
            Submit Message
          </button>
        </div>
      </form>
    </div>

    <!-- alerts  -->
    <div
      id="alerts-container"
      class="fixed z-20 bottom-2 right-2 w-[300px]"
    ></div>

    <script>
      function handleDarkMode() {
        // On page load or when changing themes, best to add inline in `head` to avoid FOUC
        if (
          localStorage.getItem("color-theme") === "dark" ||
          (!("color-theme" in localStorage) &&
            window.matchMedia("(prefers-color-scheme: dark)").matches)
        ) {
          document.documentElement.classList.add("dark");
          const link = document.createElement("link");
          link.rel = "stylesheet";
          link.type = "text/css";
          link.href = "https://npmcdn.com/flatpickr/dist/themes/dark.css";
          link.id = "flatpickr-dark-theme";

          document.head.appendChild(link);
        } else {
          document.documentElement.classList.remove("dark");
          const link = document.getElementById("flatpickr-dark-theme");
          if (link) {
            link.remove();
          }
        }
        var themeToggleDarkIcon = document.getElementById(
          "theme-toggle-dark-icon"
        );
        var themeToggleLightIcon = document.getElementById(
          "theme-toggle-light-icon"
        );

        // Change the icons inside the button based on previous settings
        if (
          localStorage.getItem("color-theme") === "dark" ||
          (!("color-theme" in localStorage) &&
            window.matchMedia("(prefers-color-scheme: dark)").matches)
        ) {
          themeToggleLightIcon.classList.remove("hidden");
        } else {
          themeToggleDarkIcon.classList.remove("hidden");
        }

        var themeToggleBtn = document.getElementById("theme-toggle");

        themeToggleBtn.addEventListener("click", function () {
          // toggle icons inside button
          themeToggleDarkIcon.classList.toggle("hidden");
          themeToggleLightIcon.classList.toggle("hidden");

          // if set via local storage previously
          if (localStorage.getItem("color-theme")) {
            if (localStorage.getItem("color-theme") === "light") {
              document.documentElement.classList.add("dark");
              localStorage.setItem("color-theme", "dark");
              const link = document.createElement("link");
              link.rel = "stylesheet";
              link.type = "text/css";
              link.href = "https://npmcdn.com/flatpickr/dist/themes/dark.css";
              link.id = "flatpickr-dark-theme";

              document.head.appendChild(link);
            } else {
              document.documentElement.classList.remove("dark");
              localStorage.setItem("color-theme", "light");
              const link = document.getElementById("flatpickr-dark-theme");
              if (link) {
                link.remove();
              }
            }

            // if NOT set via local storage previously
          } else {
            if (document.documentElement.classList.contains("dark")) {
              document.documentElement.classList.remove("dark");
              localStorage.setItem("color-theme", "light");
              const link = document.getElementById("flatpickr-dark-theme");
              if (link) {
                link.remove();
              }
            } else {
              document.documentElement.classList.add("dark");
              localStorage.setItem("color-theme", "dark");
              const link = document.createElement("link");
              link.rel = "stylesheet";
              link.type = "text/css";
              link.href = "https://npmcdn.com/flatpickr/dist/themes/dark.css";
              link.id = "flatpickr-dark-theme";

              document.head.appendChild(link);
            }
          }
        });
      }
      handleDarkMode();
    </script>

    <script>
      flatpickr("#callbackTime", {
        minDate: "today",
        enableTime: true,
        // inline: true,
        dateFormat: "Y-m-d H:i",
        minTime: new Date().toLocaleTimeString("en-GB", {
          hour: "2-digit",
          minute: "2-digit",
        }),
      });

      // alerts
      class AlertManager {
        constructor(containerId, position = "bottom", direction = "rtl") {
          this.container = document.getElementById(containerId);
          if (!this.container) {
            throw new Error(
              `Alert container with ID "${containerId}" not found.`
            );
          }
          // container should have the following styles:
          this.container.classList.add("overflow-x-hidden", "overflow-y-auto");
          // Validate position and direction
          if (position !== "bottom" && position !== "top") {
            throw new Error(
              `Invalid position "${position}". Use "top" or "bottom".`
            );
          }
          if (direction !== "rtl" && direction !== "ltr") {
            throw new Error(
              `Invalid direction "${direction}". Use "rtl" or "ltr".`
            );
          }
          // Set the position and direction
          this.position = position;
          this.direction = direction;
          this.translateClass =
            this.direction === "rtl" ? "translate-x-full" : "-translate-x-full";

          this.variants = {
            danger: [
              "text-red-800",
              "border-red-300",
              "bg-red-50",
              "dark:text-red-400",
              "dark:bg-gray-800",
              "dark:border-red-800",
            ],
            info: [
              "text-blue-800",
              "border-blue-300",
              "bg-blue-50",
              "dark:text-blue-400",
              "dark:bg-gray-800",
              "dark:border-blue-800",
            ],
            success: [
              "text-green-800",
              "border-green-300",
              "bg-green-50",
              "dark:text-green-400",
              "dark:bg-gray-800",
              "dark:border-green-800",
            ],
            default: [
              "border-gray-300",
              "bg-gray-50",
              "dark:bg-gray-800",
              "dark:border-gray-600",
            ],
          };
        }

        show(message, timeout = 3000, variant = "default") {
          const { alertElement, closeButton } = this._createAlertElement(
            message,
            this.variants[variant]?.join(" ") || this.variants.default.join(" ")
          );
          if (this.position === "top") {
            this.container.append(alertElement);
          } else {
            this.container.prepend(alertElement);
          }
          setTimeout(() => {
            alertElement.classList.remove(`${this.translateClass}`);
          }, 50);

          closeButton.addEventListener("click", () => {
            this._dismissAlert(alertElement);
          });

          setTimeout(() => {
            this._dismissAlert(alertElement);
          }, timeout);
        }

        _dismissAlert(alertElement) {
          alertElement.classList.add(`${this.translateClass}`);
          setTimeout(() => {
            alertElement.remove();
          }, 300);
        }

        _createAlertElement(alertText, variantClass) {
          const container = document.createElement("div");

          container.className =
            this.translateClass +
            " duration-300 ease-in-out border border-t-4 items-center p-4 mb-3 flex " +
            variantClass;
          container.setAttribute("role", "alert");

          const icon = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "svg"
          );
          icon.setAttribute("class", "shrink-0 w-4 h-4");
          icon.setAttribute("aria-hidden", "true");
          icon.setAttribute("fill", "currentColor");
          icon.setAttribute("viewBox", "0 0 20 20");

          const iconPath = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "path"
          );
          iconPath.setAttribute(
            "d",
            "M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"
          );
          icon.appendChild(iconPath);

          const textDiv = document.createElement("div");
          textDiv.className = "ms-3 text-sm font-medium";
          textDiv.textContent = alertText;

          const closeButton = document.createElement("button");
          closeButton.setAttribute("type", "button");
          closeButton.setAttribute("aria-label", "Close");
          closeButton.className =
            "ms-auto -mx-1.5 -my-1.5 bg-slate-50 rounded-lg focus:ring-2 p-1.5 inline-flex items-center justify-center h-8 w-8 dark:bg-slate-800 dark:hover:bg-slate-700";

          const srOnly = document.createElement("span");
          srOnly.className = "sr-only";
          srOnly.textContent = "Dismiss";

          const closeIcon = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "svg"
          );
          closeIcon.setAttribute("class", "w-3 h-3");
          closeIcon.setAttribute("aria-hidden", "true");
          closeIcon.setAttribute("fill", "none");
          closeIcon.setAttribute("viewBox", "0 0 14 14");

          const closePath = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "path"
          );
          closePath.setAttribute("stroke", "currentColor");
          closePath.setAttribute("stroke-linecap", "round");
          closePath.setAttribute("stroke-linejoin", "round");
          closePath.setAttribute("stroke-width", "2");
          closePath.setAttribute("d", "m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6");

          closeIcon.appendChild(closePath);
          closeButton.appendChild(srOnly);
          closeButton.appendChild(closeIcon);

          container.appendChild(icon);
          container.appendChild(textDiv);
          container.appendChild(closeButton);

          return {
            alertElement: container,
            closeButton: closeButton,
          };
        }
      }

      const alertManager = new AlertManager("alerts-container", "top");

      document.addEventListener("DOMContentLoaded", function () {
        // Handle form submission
        const form = document.querySelector("form");
        form.addEventListener("submit", async function (e) {
          e.preventDefault(); // Prevent default form submission

          const ins = [
            ...Array.from(form.querySelectorAll("input")),
            ...Array.from(form.querySelectorAll("select")),
          ];
          const reqIns = ins.filter((i) => i.required);
          const allFilled = reqIns.every((i) => i.value.trim() !== "");
          // Check if all required fields are filled
          if (!allFilled) {
            alertManager.show(
              "Please fill in all required fields.",
              3000,
              "danger"
            );
            return;
          }

          const formData = new FormData(form);

          try {
            const response = await fetch(form.action, {
              method: "POST",
              mode: "no-cors", // Required for Google Forms
              body: formData,
            });

            // You can show a success message here
            console.log("Form submitted successfully!", response);
            alertManager.show("Form submitted successfully!", 3000, "success");

            // Optionally, clear the form or redirect
            form.reset();
          } catch (error) {
            console.error("Form submission error:", error);
            alert("There was an error submitting the form.");
            alertManager.show(
              "There was an error submitting the form.",
              5000,
              "danger"
            );
          }
        });
      });
    </script>
  </body>
</html>
